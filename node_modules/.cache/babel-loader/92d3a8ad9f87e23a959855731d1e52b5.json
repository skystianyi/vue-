{"remainingRequest":"C:\\前端\\软件\\web-app\\node_modules\\babel-loader\\lib\\index.js!C:\\前端\\软件\\web-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\前端\\软件\\web-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\前端\\软件\\web-app\\node_modules\\vue2.0-zoom\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\前端\\软件\\web-app\\node_modules\\vue2.0-zoom\\index.vue","mtime":1514441755000},{"path":"C:\\前端\\软件\\web-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\前端\\软件\\web-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\前端\\软件\\web-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\前端\\软件\\web-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'app',\n  props: {\n    src: {\n      type: String,\n      required: true\n    },\n    bigsrc: {\n      type: String,\n      required: true\n    },\n    width: {\n      type: String,\n      default: 'auto'\n    },\n    height: {\n      type: String,\n      default: 'auto'\n    },\n    configs: {\n      type: Object,\n      default: function _default() {\n        return {\n          width: 750,\n          height: 450,\n          maskWidth: 50,\n          maskHeight: 50,\n          maskColor: '#fff',\n          maskOpacity: 0.5\n        };\n      }\n    }\n  },\n  data: function data() {\n    return {\n      imgObj: {},\n      bigImg: {},\n      mouseMask: {},\n      imgLayer: {},\n      imgRect: {}\n    };\n  },\n  methods: {\n    handMove: function handMove(e) {\n      var objX = e.pageX - this.imgRect.left;\n      var objY = e.pageY - this.imgRect.top;\n      var backgroundX = objX * (Math.ceil(this.bigImg.width / this.imgObj.offsetWidth) / 1.5);\n      var backgroundY = objY * (Math.ceil(this.bigImg.height / this.imgObj.offsetHeight) / 1.5); //判断是否超出界限\n\n      var _maskX = objX - this.mouseMask.offsetHeight / 2;\n\n      var _maskY = objY - this.mouseMask.offsetWidth / 2;\n\n      if (_maskY <= 0) {\n        _maskY = 0;\n      }\n\n      if (_maskY + this.mouseMask.offsetHeight >= this.imgRect.height) {\n        _maskY = this.imgRect.height - this.mouseMask.offsetHeight;\n      }\n\n      if (_maskX <= 0) {\n        _maskX = 0;\n      }\n\n      if (_maskX + this.mouseMask.offsetWidth >= this.imgRect.width) {\n        _maskX = this.imgRect.width - this.mouseMask.offsetWidth;\n      }\n\n      this.mouseMask.style.webkitTransform = \"translate3d(\".concat(_maskX, \"px,\").concat(_maskY, \"px,0)\"); //判断背景图是否小于预览框\n\n      if (backgroundY + this.configs.height >= this.bigImg.height) {\n        backgroundY = this.bigImg.height - this.configs.height;\n      }\n\n      if (backgroundX + this.configs.width >= this.bigImg.width) {\n        backgroundX = this.bigImg.width - this.configs.width;\n      }\n\n      this.imgLayer.style.backgroundPositionX = \"-\".concat(backgroundX, \"px \");\n      this.imgLayer.style.backgroundPositionY = \"-\".concat(backgroundY, \"px \");\n    },\n    handOut: function handOut(e) {\n      this.imgLayer.remove();\n      this.mouseMask.remove();\n    },\n    handOver: function handOver(e) {\n      if (!document.getElementById('_magnifier_layer')) {\n        //获取大图尺寸\n        this.imgObj = this.$el.getElementsByTagName('img')[0];\n        this.imgRect = this.imgObj.getBoundingClientRect();\n        this.bigImg = new Image();\n        this.bigImg.src = this.bigsrc; //创建鼠标选择区域\n\n        this.mouseMask = document.createElement(\"div\");\n        this.mouseMask.className = '_magnifier_zoom';\n        this.mouseMask.style.background = this.configs.maskColor;\n        this.mouseMask.style.height = this.configs.maskWidth + 'px';\n        this.mouseMask.style.width = this.configs.maskHeight + 'px';\n        this.mouseMask.style.opacity = this.configs.maskOpacity;\n        this.imgObj.parentNode.appendChild(this.mouseMask); //创建预览框\n\n        var imgLayer = document.createElement(\"div\");\n        this.imgLayer = imgLayer;\n        var _layerHeight = this.configs.height;\n        var _layerWidth = this.configs.width;\n        imgLayer.id = '_magnifier_layer';\n        imgLayer.style.width = _layerWidth + 'px';\n        imgLayer.style.height = _layerHeight + 'px';\n        imgLayer.style.left = this.imgRect.left + this.imgRect.width + 'px';\n        imgLayer.style.top = this.imgRect.top + 'px';\n        imgLayer.style.backgroundImage = \"url('\".concat(this.bigsrc, \"')\");\n        imgLayer.style.backgroundRepeat = 'no-repeat';\n        document.body.appendChild(imgLayer);\n      }\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<style>\n  #_magnifier_layer{position: absolute; z-index: 9999; background: #f9f9f9;}\n  ._magnifier{position: relative;display: inline-block;}\n  ._magnifier img{vertical-align: middle;}\n  ._magnifier_zoom{position: absolute; top:0;left:0; z-index: 10;pointer-events:none;}\n</style>\n<template>\n  <div class=\"_magnifier\">\n    <img :src=\"src\" :width=\"width\" :height=\"height\" @mouseover=\"handOver\"  @mousemove=\"handMove\" @mouseout=\"handOut\"/>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'app',\n    props: {\n      src: {\n        type: String,\n        required: true\n      },\n      bigsrc: {\n        type: String,\n        required: true\n      },\n      width:{\n        type: String,\n        default:'auto'\n      },\n      height:{\n        type: String,\n        default:'auto'\n      },\n      configs: {\n        type: Object,\n        default() {\n          return {\n            width:750,\n            height:450,\n            maskWidth:50,\n            maskHeight:50,\n            maskColor:'#fff',\n            maskOpacity:0.5\n          }\n        }\n      }\n    },\n    data() {\n      return {\n        imgObj:{},\n        bigImg:{},\n        mouseMask:{},\n        imgLayer:{},\n        imgRect:{},\n      }\n    },\n    methods: {\n      handMove(e) {\n        let objX=e.pageX - this.imgRect.left;\n        let objY=e.pageY - this.imgRect.top;\n        let backgroundX=objX*(Math.ceil(this.bigImg.width/this.imgObj.offsetWidth)/1.5);\n        let backgroundY=objY*(Math.ceil(this.bigImg.height/this.imgObj.offsetHeight)/1.5);\n        //判断是否超出界限\n        let _maskX=objX-this.mouseMask.offsetHeight/2;\n        let _maskY=objY-this.mouseMask.offsetWidth/2;\n\n        if(_maskY<=0){\n          _maskY=0;\n        }\n        if(_maskY+this.mouseMask.offsetHeight>=this.imgRect.height){\n          _maskY=this.imgRect.height-this.mouseMask.offsetHeight;\n        }\n        if(_maskX<=0){\n          _maskX=0;\n        }\n        if(_maskX+this.mouseMask.offsetWidth>=this.imgRect.width){\n          _maskX=this.imgRect.width-this.mouseMask.offsetWidth;\n        }\n        this.mouseMask.style.webkitTransform=`translate3d(${_maskX}px,${_maskY}px,0)`;\n        //判断背景图是否小于预览框\n        if(backgroundY+this.configs.height>=this.bigImg.height){\n          backgroundY=this.bigImg.height-this.configs.height;\n        }\n        if(backgroundX+this.configs.width>=this.bigImg.width){\n          backgroundX=this.bigImg.width-this.configs.width;\n        }\n        this.imgLayer.style.backgroundPositionX= `-${backgroundX}px `;\n        this.imgLayer.style.backgroundPositionY= `-${backgroundY}px `;\n      },\n      handOut(e) {\n        this.imgLayer.remove();\n        this.mouseMask.remove();\n      },\n      handOver(e) {\n        if (!document.getElementById('_magnifier_layer')) {\n          //获取大图尺寸\n          this.imgObj= this.$el.getElementsByTagName('img')[0];\n          this.imgRect =this.imgObj.getBoundingClientRect();\n          this.bigImg = new Image();\n          this.bigImg.src = this.bigsrc;\n          //创建鼠标选择区域\n          this.mouseMask = document.createElement(\"div\");\n          this.mouseMask.className='_magnifier_zoom';\n          this.mouseMask.style.background=this.configs.maskColor;\n          this.mouseMask.style.height=this.configs.maskWidth+'px';\n          this.mouseMask.style.width=this.configs.maskHeight+'px';\n          this.mouseMask.style.opacity=this.configs.maskOpacity;\n          this.imgObj.parentNode.appendChild(this.mouseMask);\n          //创建预览框\n          let imgLayer = document.createElement(\"div\");\n          this.imgLayer=imgLayer;\n          let _layerHeight= this.configs.height;\n          let _layerWidth= this.configs.width;\n          imgLayer.id = '_magnifier_layer';\n          imgLayer.style.width = _layerWidth + 'px';\n          imgLayer.style.height = _layerHeight + 'px';\n          imgLayer.style.left =this.imgRect.left+this.imgRect.width + 'px';\n          imgLayer.style.top = this.imgRect.top+ 'px';\n          imgLayer.style.backgroundImage = `url('${this.bigsrc}')`;\n          imgLayer.style.backgroundRepeat = 'no-repeat';\n          document.body.appendChild(imgLayer);\n        }\n      }\n    }\n  }\n</script>\n"],"sourceRoot":"node_modules/vue2.0-zoom"}]}